{"ast":null,"code":"const http = require('http');\n\nconst WebSocket = require('isomorphic-ws'); //isomorphic-ws must be used for WS to work in node/browser\n\n\nconst SERVER_PORT = 8080; //let msgRcvdCallback = null;\n\n/* Helper class used to talk to the test server (and eventually the real server).\r\n  This client helper class forms a websockets connection with the test server\r\n  upon creation of the helper class. Messages can be sent once the connection is\r\n  established with the sendMessage function */\n\nclass Client {\n  constructor(hostname, GameComponent) {\n    /* messageReceivedCallback is a function that will be called by the user class\r\n    whenever the client helper receives a WS message.*/\n    this.wsClient = new WebSocket(hostname);\n    console.log(GameComponent);\n    /* store the reference to the listener provided by GameComponent so that\r\n    it can be called later. I would use the this keyword to just store this\r\n    callback in a local variable, but I was getting an error, so this is a\r\n    workaround for now, since I am short on time.*/\n    //msgRcvdCallback = messageReceivedCallback;\n\n    this.gameComponent = GameComponent;\n    console.log(this.gameComponent); // Register WS state handlers with the WS client object\n\n    this.wsClient.onerror = this.handleWS_OnError;\n    this.wsClient.onopen = this.handleWS_onConnect;\n    this.wsClient.onmessage = this.handleWS_onMessage;\n    this.wsClient.onclose = this.handleWS_onClose;\n  } // send a WS message to the test server\n\n\n  sendMessage(message) {\n    this.wsClient.send(message);\n  }\n  /* ===== Websockets Handlers ===== */\n\n\n  handleWS_OnError(error) {\n    console.log(error);\n  }\n\n  handleWS_onConnect(connection) {\n    console.log(\"WS Client connected.\");\n  }\n\n  handleWS_onClose() {\n    console.log(\"WS Client disconnected.\");\n  }\n\n  handleWS_onMessage(message) {\n    console.log(this.gameComponent);\n  } // This function sends a generic HTTP GET request to my local test server\n  // Params to be added: path and query (object containing query params)\n\n\n  sendGETRequest() {\n    const options = {\n      hostname: 'localhost',\n      port: SERVER_PORT,\n      path: '/',\n      method: 'GET'\n    };\n    const clientGETReq = http.request(options, function (res) {\n      console.log(`STATUS CODE: ${res.statusCode}`);\n    });\n    clientGETReq.on('error', function (err) {\n      console.log('ERROR:' + err);\n    });\n    clientGETReq.end();\n  } // This function sends a generic HTTP POST request to my local test server\n\n\n  sendPOSTRequest(json_payload) {\n    const options = {\n      hostname: 'localhost',\n      port: 8080,\n      path: '/',\n      method: 'POST'\n    };\n    const clientPOSTReq = http.request(options, function (res) {\n      console.log(`STATUS CODE: ${res.statusCode}`);\n      res.on('data', function (data) {\n        process.stdout.write(data);\n      });\n    });\n    clientPOSTReq.write(json_payload);\n    clientPOSTReq.end();\n    clientPOSTReq.on('error', function (err) {\n      console.log('ERROR:' + err);\n    });\n  }\n\n}\n\nexport default Client;","map":{"version":3,"sources":["D:/MyProgramming/ghoul_hunters/Alexa_Skill-Ghoul_Hunters/src/Client.js"],"names":["http","require","WebSocket","SERVER_PORT","Client","constructor","hostname","GameComponent","wsClient","console","log","gameComponent","onerror","handleWS_OnError","onopen","handleWS_onConnect","onmessage","handleWS_onMessage","onclose","handleWS_onClose","sendMessage","message","send","error","connection","sendGETRequest","options","port","path","method","clientGETReq","request","res","statusCode","on","err","end","sendPOSTRequest","json_payload","clientPOSTReq","data","process","stdout","write"],"mappings":"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","sourcesContent":["const http = require('http');\r\nconst WebSocket = require('isomorphic-ws'); //isomorphic-ws must be used for WS to work in node/browser\r\nconst SERVER_PORT = 8080;\r\n\r\n//let msgRcvdCallback = null;\r\n\r\n/* Helper class used to talk to the test server (and eventually the real server).\r\n  This client helper class forms a websockets connection with the test server\r\n  upon creation of the helper class. Messages can be sent once the connection is\r\n  established with the sendMessage function */\r\nclass Client {\r\n\r\n\r\n\r\n  constructor(hostname, GameComponent) {\r\n    /* messageReceivedCallback is a function that will be called by the user class\r\n    whenever the client helper receives a WS message.*/\r\n    this.wsClient = new WebSocket(hostname);\r\n    console.log(GameComponent);\r\n    /* store the reference to the listener provided by GameComponent so that\r\n    it can be called later. I would use the this keyword to just store this\r\n    callback in a local variable, but I was getting an error, so this is a\r\n    workaround for now, since I am short on time.*/\r\n    //msgRcvdCallback = messageReceivedCallback;\r\n    this.gameComponent = GameComponent;\r\n    console.log(this.gameComponent);\r\n    // Register WS state handlers with the WS client object\r\n    this.wsClient.onerror = this.handleWS_OnError;\r\n    this.wsClient.onopen = this.handleWS_onConnect;\r\n    this.wsClient.onmessage = this.handleWS_onMessage;\r\n    this.wsClient.onclose = this.handleWS_onClose;\r\n  }\r\n\r\n  // send a WS message to the test server\r\n  sendMessage(message) {\r\n      this.wsClient.send(message);\r\n  }\r\n\r\n  /* ===== Websockets Handlers ===== */\r\n  handleWS_OnError(error) {\r\n    console.log(error);\r\n  }\r\n\r\n  handleWS_onConnect(connection) {\r\n    console.log(\"WS Client connected.\");\r\n  }\r\n\r\n  handleWS_onClose() {\r\n    console.log(\"WS Client disconnected.\");\r\n  }\r\n\r\n  handleWS_onMessage(message) {\r\n    console.log(this.gameComponent);\r\n  }\r\n\r\n  // This function sends a generic HTTP GET request to my local test server\r\n  // Params to be added: path and query (object containing query params)\r\n  sendGETRequest() {\r\n\r\n    const options = {\r\n      hostname: 'localhost',\r\n      port: SERVER_PORT,\r\n      path: '/',\r\n      method: 'GET'\r\n    };\r\n\r\n    const clientGETReq = http.request(options, function(res) {\r\n\r\n      console.log(`STATUS CODE: ${res.statusCode}`);\r\n\r\n    });\r\n\r\n    clientGETReq.on('error', function(err) {\r\n      console.log('ERROR:' + err);\r\n    });\r\n\r\n    clientGETReq.end();\r\n\r\n  }\r\n\r\n  // This function sends a generic HTTP POST request to my local test server\r\n  sendPOSTRequest(json_payload) {\r\n\r\n    const options = {\r\n      hostname: 'localhost',\r\n      port: 8080,\r\n      path: '/',\r\n      method: 'POST',\r\n\r\n    };\r\n\r\n    const clientPOSTReq = http.request(options, function(res) {\r\n\r\n      console.log(`STATUS CODE: ${res.statusCode}`);\r\n\r\n      res.on('data', function(data) {\r\n\r\n        process.stdout.write(data);\r\n      });\r\n\r\n    });\r\n\r\n    clientPOSTReq.write(json_payload);\r\n    clientPOSTReq.end();\r\n\r\n    clientPOSTReq.on('error', function(err) {\r\n      console.log('ERROR:' + err);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Client;\r\n"]},"metadata":{},"sourceType":"module"}