{"ast":null,"code":"const http = require('http');\n\nlet W3CWebSocket = require('websocket').w3cwebsocket; //W3C WS must be used for node\n\n\nconst SERVER_PORT = 8080;\n/* Helper class used to talk to the test server (and eventually the real server).\r\nClient will send post and get requests to the server whenever changes occur in the\r\ngame state. Currently the protocol is pure HTTP. However, if time allows, I would\r\nrather use websockets to maintain connections with the server to improve game quality\r\n*/\n\nclass Client {\n  constructor(hostname) {\n    this.client = new W3CWebSocket(hostname); // Register WS state handlers with the WS client object\n\n    this.client.onerror = handleWS_OnError;\n    this.client.onopen = handleWS_onConnect;\n    this.client.onmessage = handleWS_onMessage;\n    this.client.onclose = handleWS_onClose;\n  } // This function sends a generic HTTP GET request to my local test server\n  // Params to be added: path and query (object containing query params)\n\n\n  sendGETRequest() {\n    const options = {\n      hostname: 'localhost',\n      port: SERVER_PORT,\n      path: '/',\n      method: 'GET'\n    };\n    const clientGETReq = http.request(options, function (res) {\n      console.log(`STATUS CODE: ${res.statusCode}`);\n    });\n    clientGETReq.on('error', function (err) {\n      console.log('ERROR:' + err);\n    });\n    clientGETReq.end();\n  } // This function sends a generic HTTP POST request to my local test server\n\n\n  sendPOSTRequest(json_payload) {\n    const options = {\n      hostname: 'localhost',\n      port: 8080,\n      path: '/',\n      method: 'POST'\n    };\n    const clientPOSTReq = http.request(options, function (res) {\n      console.log(`STATUS CODE: ${res.statusCode}`);\n      res.on('data', function (data) {\n        process.stdout.write(data);\n      });\n    });\n    clientPOSTReq.write(json_payload);\n    clientPOSTReq.end();\n    clientPOSTReq.on('error', function (err) {\n      console.log('ERROR:' + err);\n    });\n  }\n\n}\n/* ===== Websockets Handlers ===== */\n\n\nfunction handleWS_OnError(error) {\n  console.log(error);\n}\n\nfunction handleWS_onConnect(connection) {\n  console.log(\"WS Client connected.\");\n}\n\nfunction handleWS_onClose() {\n  console.log(\"WS Client disconnected.\");\n}\n\nfunction handleWS_onMessage(message) {\n  console.log(message);\n}\n\nexport default Client;","map":{"version":3,"sources":["D:/MyProgramming/ghoul_hunters/Alexa_Skill-Ghoul_Hunters/src/Client.js"],"names":["http","require","W3CWebSocket","w3cwebsocket","SERVER_PORT","Client","constructor","hostname","client","onerror","handleWS_OnError","onopen","handleWS_onConnect","onmessage","handleWS_onMessage","onclose","handleWS_onClose","sendGETRequest","options","port","path","method","clientGETReq","request","res","console","log","statusCode","on","err","end","sendPOSTRequest","json_payload","clientPOSTReq","data","process","stdout","write","error","connection","message"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,WAAD,CAAP,CAAqBE,YAAxC,C,CAAsD;;;AACtD,MAAMC,WAAW,GAAG,IAApB;AAEA;;;;;;AAMA,MAAMC,MAAN,CAAa;AAEXC,EAAAA,WAAW,CAACC,QAAD,EAAW;AACpB,SAAKC,MAAL,GAAc,IAAIN,YAAJ,CAAiBK,QAAjB,CAAd,CADoB,CAGpB;;AACA,SAAKC,MAAL,CAAYC,OAAZ,GAAsBC,gBAAtB;AACA,SAAKF,MAAL,CAAYG,MAAZ,GAAqBC,kBAArB;AACA,SAAKJ,MAAL,CAAYK,SAAZ,GAAwBC,kBAAxB;AACA,SAAKN,MAAL,CAAYO,OAAZ,GAAsBC,gBAAtB;AACD,GAVU,CAYX;AACA;;;AACAC,EAAAA,cAAc,GAAG;AAEf,UAAMC,OAAO,GAAG;AACdX,MAAAA,QAAQ,EAAE,WADI;AAEdY,MAAAA,IAAI,EAAEf,WAFQ;AAGdgB,MAAAA,IAAI,EAAE,GAHQ;AAIdC,MAAAA,MAAM,EAAE;AAJM,KAAhB;AAOA,UAAMC,YAAY,GAAGtB,IAAI,CAACuB,OAAL,CAAaL,OAAb,EAAsB,UAASM,GAAT,EAAc;AAEvDC,MAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeF,GAAG,CAACG,UAAW,EAA3C;AAED,KAJoB,CAArB;AAMAL,IAAAA,YAAY,CAACM,EAAb,CAAgB,OAAhB,EAAyB,UAASC,GAAT,EAAc;AACrCJ,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAWG,GAAvB;AACD,KAFD;AAIAP,IAAAA,YAAY,CAACQ,GAAb;AAED,GAnCU,CAqCX;;;AACAC,EAAAA,eAAe,CAACC,YAAD,EAAe;AAE5B,UAAMd,OAAO,GAAG;AACdX,MAAAA,QAAQ,EAAE,WADI;AAEdY,MAAAA,IAAI,EAAE,IAFQ;AAGdC,MAAAA,IAAI,EAAE,GAHQ;AAIdC,MAAAA,MAAM,EAAE;AAJM,KAAhB;AAQA,UAAMY,aAAa,GAAGjC,IAAI,CAACuB,OAAL,CAAaL,OAAb,EAAsB,UAASM,GAAT,EAAc;AAExDC,MAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeF,GAAG,CAACG,UAAW,EAA3C;AAEAH,MAAAA,GAAG,CAACI,EAAJ,CAAO,MAAP,EAAe,UAASM,IAAT,EAAe;AAE5BC,QAAAA,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAqBH,IAArB;AACD,OAHD;AAKD,KATqB,CAAtB;AAWAD,IAAAA,aAAa,CAACI,KAAd,CAAoBL,YAApB;AACAC,IAAAA,aAAa,CAACH,GAAd;AAEAG,IAAAA,aAAa,CAACL,EAAd,CAAiB,OAAjB,EAA0B,UAASC,GAAT,EAAc;AACtCJ,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAWG,GAAvB;AACD,KAFD;AAGD;;AAjEU;AAqEb;;;AACA,SAASnB,gBAAT,CAA0B4B,KAA1B,EAAiC;AAC/Bb,EAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACD;;AAED,SAAS1B,kBAAT,CAA4B2B,UAA5B,EAAwC;AACtCd,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AAED;;AAED,SAASV,gBAAT,GAA4B;AAC1BS,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD;;AAED,SAASZ,kBAAT,CAA4B0B,OAA5B,EAAqC;AACnCf,EAAAA,OAAO,CAACC,GAAR,CAAYc,OAAZ;AACD;;AAED,eAAenC,MAAf","sourcesContent":["const http = require('http');\r\nlet W3CWebSocket = require('websocket').w3cwebsocket; //W3C WS must be used for node\r\nconst SERVER_PORT = 8080;\r\n\r\n/* Helper class used to talk to the test server (and eventually the real server).\r\nClient will send post and get requests to the server whenever changes occur in the\r\ngame state. Currently the protocol is pure HTTP. However, if time allows, I would\r\nrather use websockets to maintain connections with the server to improve game quality\r\n*/\r\n\r\nclass Client {\r\n\r\n  constructor(hostname) {\r\n    this.client = new W3CWebSocket(hostname);\r\n\r\n    // Register WS state handlers with the WS client object\r\n    this.client.onerror = handleWS_OnError;\r\n    this.client.onopen = handleWS_onConnect;\r\n    this.client.onmessage = handleWS_onMessage;\r\n    this.client.onclose = handleWS_onClose;\r\n  }\r\n\r\n  // This function sends a generic HTTP GET request to my local test server\r\n  // Params to be added: path and query (object containing query params)\r\n  sendGETRequest() {\r\n\r\n    const options = {\r\n      hostname: 'localhost',\r\n      port: SERVER_PORT,\r\n      path: '/',\r\n      method: 'GET'\r\n    };\r\n\r\n    const clientGETReq = http.request(options, function(res) {\r\n\r\n      console.log(`STATUS CODE: ${res.statusCode}`);\r\n\r\n    });\r\n\r\n    clientGETReq.on('error', function(err) {\r\n      console.log('ERROR:' + err);\r\n    });\r\n\r\n    clientGETReq.end();\r\n\r\n  }\r\n\r\n  // This function sends a generic HTTP POST request to my local test server\r\n  sendPOSTRequest(json_payload) {\r\n\r\n    const options = {\r\n      hostname: 'localhost',\r\n      port: 8080,\r\n      path: '/',\r\n      method: 'POST',\r\n\r\n    };\r\n\r\n    const clientPOSTReq = http.request(options, function(res) {\r\n\r\n      console.log(`STATUS CODE: ${res.statusCode}`);\r\n\r\n      res.on('data', function(data) {\r\n\r\n        process.stdout.write(data);\r\n      });\r\n\r\n    });\r\n\r\n    clientPOSTReq.write(json_payload);\r\n    clientPOSTReq.end();\r\n\r\n    clientPOSTReq.on('error', function(err) {\r\n      console.log('ERROR:' + err);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n/* ===== Websockets Handlers ===== */\r\nfunction handleWS_OnError(error) {\r\n  console.log(error);\r\n}\r\n\r\nfunction handleWS_onConnect(connection) {\r\n  console.log(\"WS Client connected.\");\r\n\r\n}\r\n\r\nfunction handleWS_onClose() {\r\n  console.log(\"WS Client disconnected.\");\r\n}\r\n\r\nfunction handleWS_onMessage(message) {\r\n  console.log(message);\r\n}\r\n\r\nexport default Client;\r\n"]},"metadata":{},"sourceType":"module"}